{{ define "slack.default.title" }}
[{{ .Status | toUpper }}{{ if eq .Status "firing" }}:{{ .Alerts.Firing | len }}{{ end }}] {{ .GroupLabels.SortedPairs.Values | join " " }}
{{ end }}

{{ define "slack.default.text" }}
{{ range .Alerts }}
*Alert:* {{ .Labels.alertname }} - `{{ .Labels.severity }}`
*Description:* {{ .Annotations.description }}
*Summary:* {{ .Annotations.summary }}
*Details:*
{{ range .Labels.SortedPairs }} â€¢ *{{ .Name }}:* `{{ .Value }}`
{{ end }}
{{ end }}
{{ end }}

{{ define "email.default.subject" }}
[{{ .Status | toUpper }}] {{ .GroupLabels.alertname }} ({{ .Alerts.Firing | len }} firing)
{{ end }}

{{ define "email.default.html" }}
<!DOCTYPE html>
<html>
<head>
<style>
body { font-family: Arial, sans-serif; }
.alert { margin: 20px 0; padding: 15px; border-left: 4px solid; }
.critical { border-color: #d32f2f; background-color: #ffebee; }
.warning { border-color: #f57c00; background-color: #fff3e0; }
.info { border-color: #1976d2; background-color: #e3f2fd; }
.label { display: inline-block; background-color: #e0e0e0; padding: 2px 8px; margin: 2px; border-radius: 3px; }
</style>
</head>
<body>
<h2>ShuDL Alert Notification</h2>
{{ range .Alerts }}
<div class="alert {{ .Labels.severity }}">
  <h3>{{ .Labels.alertname }}</h3>
  <p><strong>Severity:</strong> <span class="label">{{ .Labels.severity }}</span></p>
  <p><strong>Summary:</strong> {{ .Annotations.summary }}</p>
  <p><strong>Description:</strong> {{ .Annotations.description }}</p>
  <p><strong>Instance:</strong> {{ .Labels.instance }}</p>
  <p><strong>Service:</strong> {{ .Labels.service }}</p>
  <p><strong>Status:</strong> {{ .Status }}</p>
  <p><strong>Started At:</strong> {{ .StartsAt }}</p>
  {{ if .EndsAt }}
  <p><strong>Ended At:</strong> {{ .EndsAt }}</p>
  {{ end }}
</div>
{{ end }}
</body>
</html>
{{ end }}
